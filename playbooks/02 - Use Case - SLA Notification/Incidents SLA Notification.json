{
    "@type": "Workflow",
    "triggerLimit": null,
    "name": "Incidents SLA Notification",
    "aliasName": null,
    "tag": null,
    "description": "Notify users when SLA is about to be breached",
    "isActive": true,
    "debug": false,
    "singleRecordExecution": false,
    "remoteExecutableFlag": false,
    "parameters": [],
    "synchronous": false,
    "collection": "\/api\/3\/workflow_collections\/904b64ba-4c29-43c9-a46f-62e117bd4aa3",
    "versions": [],
    "triggerStep": "\/api\/3\/workflow_steps\/73fea0bb-b1c9-46e2-9ad0-d0147287b64f",
    "steps": [
        {
            "@type": "WorkflowStep",
            "name": "Compute Notification Bodies",
            "description": null,
            "arguments": {
                "_update_attributes": "{% set red_color='<font color = \"red\"><strong>{}<\/strong><\/font>' %}\n{% set orange_color='<font color = \"orange\"><strong>{}<\/strong><\/font>' %}\n{% macro build_ack_sla_msg(alert) %}{{orange_color.format(alert.remaining_ack_time) ~ '\\' Before Ack SLA breach' if alert.remaining_ack_time > 0 else red_color.format(alert.remaining_ack_time) ~ '\\' since Ack SLA breach'}}{% endmacro %}\n{% macro build_res_sla_msg(alert) %}{{orange_color.format(alert.remaining_response_time) ~ '\\' Before Res SLA breach' if alert.remaining_response_time > 0 else red_color.format(alert.remaining_response_time) ~ '\\' Since Res SLA breach'}}{% endmacro %}\n\n{%for entry in vars.alerts%}\n{{ entry.update({'Acknowledgment SLA Status':build_ack_sla_msg(entry)}) }}\n{{ entry.update({'Response SLA Status':build_res_sla_msg(entry)}) }}\n{{ entry.update({'Ack Due By':arrow.get(entry.ackDueDate).to(\"UTC\").format(\"DD\/MMM HH:mm\")}) }}\n{{ entry.update({'Response Due By':arrow.get(entry.resDueBy).to(\"UTC\").format(\"DD\/MMM HH:mm\")}) }}\n{{ entry.update({'Assigned To':entry.incidentLead.email})}}\n{%endfor%}"
            },
            "status": null,
            "top": "1245",
            "left": "393",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "0de7283b-1585-414a-b6ab-afaa5a1629cd"
        },
        {
            "@type": "WorkflowStep",
            "name": "Configuration",
            "description": "- minutes_left: Configure the number of minutes left before the notification is sent\n- email_recipient: if set it will be the recipient of all notifications, else the record owner will receive it\n- create_announcement: if set to True, an announcement record will be created which can be used as a trigger for a standard FortiSOAR notification",
            "arguments": {
                "alerts": "[]",
                "sla_config": "{{globalVars.SLA_Notification_Config}}",
                "sla_notification_global_var_name": "SLA_Notification_Config"
            },
            "status": null,
            "top": "165",
            "left": "393",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "128f1e3f-932c-48b2-a9ef-bf58143291e0"
        },
        {
            "@type": "WorkflowStep",
            "name": "Single Recipient",
            "description": null,
            "arguments": {
                "conditions": [
                    {
                        "option": "yes",
                        "step_iri": "\/api\/3\/workflow_steps\/f45befeb-54ec-46bc-92dd-d5fe5a1fafef",
                        "condition": "{{ vars.email_recipient | length > 0 }}",
                        "step_name": "Generate Email Body"
                    },
                    {
                        "option": "no",
                        "default": true,
                        "step_iri": "\/api\/3\/workflow_steps\/728015f5-9fb5-4e0c-ac56-11cfef61a934",
                        "step_name": "Send Notification Emails"
                    }
                ]
            },
            "status": null,
            "top": "1380",
            "left": "393",
            "stepType": "\/api\/3\/workflow_step_types\/12254cf5-5db7-4b1a-8cb1-3af081924b28",
            "group": null,
            "uuid": "1a565156-9e9d-45d6-b7a0-84fc00c3a6aa"
        },
        {
            "@type": "WorkflowStep",
            "name": "Notify Teams Channel",
            "description": null,
            "arguments": {
                "when": "{{vars.alerts|length > 0 and vars.channel_name|length >0}}",
                "arguments": {
                    "channel_name": "{{vars.channel_name}}",
                    "notification_message": "{{vars.teams_mesasge_body}}"
                },
                "apply_async": false,
                "step_variables": [],
                "pass_input_record": false,
                "workflowReference": "\/api\/3\/workflows\/a11cda29-209a-40ad-8d2f-651c226e26c6"
            },
            "status": null,
            "top": "1920",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/74932bdc-b8b6-4d24-88c4-1a4dfbc524f3",
            "group": null,
            "uuid": "1b730e2d-1686-462e-8b2d-8da5ef5c35f3"
        },
        {
            "@type": "WorkflowStep",
            "name": "Create Announcements",
            "description": null,
            "arguments": {
                "when": "{{vars.alerts | length > 0 and vars.create_announcement is true}}",
                "for_each": {
                    "item": "{{vars.alerts}}",
                    "__bulk": false,
                    "parallel": false,
                    "condition": ""
                },
                "resource": {
                    "title": "Alert ID: {{vars.item['id']}} SLA Status",
                    "__replace": "",
                    "description": "<p>{%for vars.item in vars.alerts%}{%endfor%}<\/p>\n<table border=\"1\" style=\"border-collapse: collapse; width: 99.9951%; background-color: #1e3d67; border-color: #34495E; border-style: dotted;\">\n<tbody>\n<tr>\n<td style=\"text-align: center;\">ID<\/td>\n<td style=\"text-align: center;\">Name<\/td>\n<td style=\"text-align: center;\">Type<\/td>\n<td style=\"text-align: center;\">Acknowledgment SLA<\/td>\n<td style=\"text-align: center;\">Ack Due By<\/td>\n<td style=\"text-align: center;\">Response SLA<\/td>\n<td style=\"text-align: center;\">Response Due By<\/td>\n<\/tr>\n<tr style=\"text-align: left; background-color: #d1d8dc;\">\n<td>{{vars.item['id']}}<\/td>\n<td>{{vars.item['name']}}<\/td>\n<td>{{vars.item['@type']}}<\/td>\n<td>{{vars.item['Acknowledgment SLA Status']}}<\/td>\n<td>{{vars.item['Ack Due By']}}<\/td>\n<td>{{vars.item['Response SLA Status']}}<\/td>\n<td>{{vars.item['Response Due By']}}<\/td>\n<\/tr>\n<\/tbody>\n<\/table>",
                    "notifyOnEmail": false,
                    "announcementType": "\/api\/3\/picklists\/cfbb2798-ec01-4652-b774-fb2c19e35eb5",
                    "announcementCriticality": "\/api\/3\/picklists\/e8e41070-f135-42f2-892b-7017cbba4024"
                },
                "operation": "Overwrite",
                "collection": "\/api\/3\/announcements",
                "__recommend": [],
                "fieldOperation": {
                    "recordTags": "Overwrite"
                },
                "step_variables": []
            },
            "status": null,
            "top": "1650",
            "left": "568",
            "stepType": "\/api\/3\/workflow_step_types\/2597053c-e718-44b4-8394-4d40fe26d357",
            "group": null,
            "uuid": "5ccecbd5-b6cc-4cba-b86e-1013361e49b2"
        },
        {
            "@type": "WorkflowStep",
            "name": "Compute Remaining Time",
            "description": null,
            "arguments": {
                "_remaining_time": "{%for entry in vars.all_alerts%}\n{{entry.update({\"remaining_ack_time\":((entry.ackDueDate - arrow.now().int_timestamp)\/60)|round(0, 'ceil'),\"remaining_response_time\":((entry.resDueBy - arrow.now().int_timestamp)\/60)|round(0, 'ceil')})}}\n{%endfor%}"
            },
            "status": null,
            "top": "975",
            "left": "393",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "64e34513-614e-4191-9cff-e36c004fa97d"
        },
        {
            "@type": "WorkflowStep",
            "name": "Set SLA Notification Method",
            "description": null,
            "arguments": {
                "type": "InputBased",
                "input": {
                    "schema": {
                        "title": "Configuration",
                        "description": "**Notification recipient:**\n\n- Recipient Email Address: The notification will be sent to an email address you specifyin the **Recipient email address** field. If you leave it blank the the notification will be sent to the assigned analyst in the record\n\n**MS Teams Group:**\n\n- If set an SLA notification message will be sent to the group specified in the field: MS Teams Group. If no group name is provided the MS Teams notification will be disabled\n\n**Create Announcements:**\n\n- The announcements records are created for each notifications allowing you to use it as a trigger for a system notification.",
                        "inputVariables": [
                            {
                                "name": "recipientEmailAddress",
                                "type": "string",
                                "label": "Recipient Email Address",
                                "tooltip": "",
                                "dataType": "text",
                                "formType": "text",
                                "required": false,
                                "_expanded": false,
                                "defaultValue": null,
                                "_previousName": "recipient",
                                "useRecordFieldDefault": false
                            },
                            {
                                "name": "mSTeamsChannelName",
                                "type": "string",
                                "label": "MS Teams Channel Name",
                                "tooltip": "",
                                "dataType": "text",
                                "formType": "text",
                                "required": false,
                                "_expanded": false,
                                "defaultValue": null,
                                "_previousName": "",
                                "useRecordFieldDefault": false
                            },
                            {
                                "name": "createAnnouncements",
                                "type": "boolean",
                                "label": "Create Announcements",
                                "title": "Checkbox",
                                "usable": true,
                                "tooltip": "",
                                "dataType": "checkbox",
                                "formType": "checkbox",
                                "required": false,
                                "_expanded": false,
                                "mmdUpdate": true,
                                "collection": false,
                                "searchable": true,
                                "templateUrl": "app\/components\/form\/fields\/checkbox.html",
                                "defaultValue": null,
                                "_previousName": "createAnnouncement",
                                "lengthConstraint": false,
                                "allowedEncryption": false,
                                "allowedGridColumn": true,
                                "useRecordFieldDefault": false
                            },
                            {
                                "name": "minutesToSLABreach",
                                "type": "integer",
                                "label": "Minutes To SLA Breach",
                                "title": "Integer Field",
                                "usable": true,
                                "tooltip": "",
                                "dataType": "integer",
                                "formType": "integer",
                                "required": false,
                                "_expanded": true,
                                "mmdUpdate": true,
                                "collection": false,
                                "searchable": true,
                                "templateUrl": "app\/components\/form\/fields\/integer.html",
                                "defaultValue": 10,
                                "_previousName": "minutesToSLA",
                                "lengthConstraint": true,
                                "allowedEncryption": false,
                                "allowedGridColumn": true,
                                "useRecordFieldDefault": false
                            }
                        ]
                    }
                },
                "record": "",
                "owner_detail": {
                    "isAssigned": false
                },
                "isRecordLinked": false,
                "step_variables": {
                    "sla_config": "{\n\"createAnnouncements\":\"{{vars.result.input.createAnnouncements}}\",\n\"minutesToSLABreach\":\"{{vars.result.input.minutesToSLABreach}}\",\n\"mSTeamsChannelName\":\"{{vars.result.input.mSTeamsChannelName}}\",\n\"recipientEmailAddress\":\"{{vars.result.input.recipientEmailAddress}}\"\n}"
                },
                "response_mapping": {
                    "options": [
                        {
                            "option": "Save",
                            "primary": true,
                            "step_iri": "\/api\/3\/workflow_steps\/c3bc72cb-ebec-49b9-81c0-5732d248a6e2"
                        },
                        {
                            "option": "Cancel",
                            "step_iri": "\/api\/3\/workflow_steps\/aef2a68c-74e4-4c1a-9963-9b7b0b287a64"
                        }
                    ],
                    "duplicateOption": false
                },
                "email_notification": {
                    "enabled": false,
                    "smtpParameters": []
                }
            },
            "status": null,
            "top": "420",
            "left": "860",
            "stepType": "\/api\/3\/workflow_step_types\/fc04082a-d7dc-4299-96fb-6837b1baa0fe",
            "group": null,
            "uuid": "71d999c5-00c4-49cb-a81b-40ba3d551eee"
        },
        {
            "@type": "WorkflowStep",
            "name": "Send Notification Emails",
            "description": null,
            "arguments": {
                "name": "Exchange",
                "when": "{{vars.alerts|length > 0}}",
                "config": "9b1523e6-7f4a-4bd0-82fd-9ed0e2bae171",
                "params": {
                    "body": "<p>{%for vars.item in vars.alerts%}{%endfor%}<\/p>\n<table style=\"border-collapse: collapse; width: 99.9951%; background-color: #1e3d67; border-color: #34495E; border-style: dotted;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"text-align: center;\">ID<\/td>\n<td style=\"text-align: center;\">Name<\/td>\n<td style=\"text-align: center;\">Type<\/td>\n<td style=\"text-align: center;\">Acknowledgment SLA<\/td>\n<td style=\"text-align: center;\">Ack Due By<\/td>\n<td style=\"text-align: center;\">Response SLA<\/td>\n<td style=\"text-align: center;\">Response Due By<\/td>\n<\/tr>\n<tr style=\"text-align: left; background-color: #d1d8dc;\">\n<td>{{vars.item['id']}}<\/td>\n<td>{{vars.item['name']}}<\/td>\n<td>{{vars.item['@type']}}<\/td>\n<td>{{vars.item['Acknowledgment SLA Status']}}<\/td>\n<td>{{vars.item['Ack Due By']}}<\/td>\n<td>{{vars.item['Response SLA Status']}}<\/td>\n<td>{{vars.item['Response Due By']}}<\/td>\n<\/tr>\n<\/tbody>\n<\/table>",
                    "subject": "Incident SLA Breach status",
                    "iri_list": "",
                    "cc_recipients": "",
                    "to_recipients": "{{vars.item.assignedTo.email}}",
                    "bcc_recipients": "",
                    "inline_iri_list": ""
                },
                "version": "4.0.0",
                "for_each": {
                    "item": "{{vars.alerts}}",
                    "parallel": false,
                    "condition": ""
                },
                "connector": "exchange",
                "operation": "send_email",
                "operationTitle": "Send Email",
                "pickFromTenant": false,
                "step_variables": []
            },
            "status": null,
            "top": "1515",
            "left": "568",
            "stepType": "\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671",
            "group": null,
            "uuid": "728015f5-9fb5-4e0c-ac56-11cfef61a934"
        },
        {
            "@type": "WorkflowStep",
            "name": "Start",
            "description": null,
            "arguments": {
                "step_variables": {
                    "input": {
                        "params": []
                    }
                }
            },
            "status": null,
            "top": "30",
            "left": "393",
            "stepType": "\/api\/3\/workflow_step_types\/b348f017-9a94-471f-87f8-ce88b6a7ad62",
            "group": null,
            "uuid": "73fea0bb-b1c9-46e2-9ad0-d0147287b64f"
        },
        {
            "@type": "WorkflowStep",
            "name": "Exclude Unbreeched SLAs",
            "description": null,
            "arguments": {
                "__create_eligible_alerts": "{%for entry in vars.all_alerts%}\n{%if (entry.remaining_ack_time < vars.minutes_left) or (entry.remaining_ack_time < vars.minutes_left)%}\n{{vars.alerts.append(entry)}}\n{%endif%}\n{%endfor%}"
            },
            "status": null,
            "top": "1110",
            "left": "393",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "77929d5b-2eb2-4081-b372-9cc09f93ab91"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get PLaybook Configuration",
            "description": "- minutes_left: Configure the number of minutes left before the notification is sent\n- email_recipient: if set it will be the recipient of all notifications, else the record owner will receive it\n- create_announcement: if set to True, an announcement record will be created which can be used as a trigger for a standard FortiSOAR notification",
            "arguments": {
                "alerts": "[]",
                "channel_name": "{{vars.sla_config.mSTeamsChannelName}}",
                "minutes_left": "{{vars.sla_config.minutesToSLABreach}}",
                "email_recipient": "{{vars.sla_config.recipientEmailAddress}}",
                "create_announcement": "{{vars.sla_config.createAnnouncements}}"
            },
            "status": null,
            "top": "705",
            "left": "393",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "8601dadf-d374-4ef1-8178-350ec4c3511d"
        },
        {
            "@type": "WorkflowStep",
            "name": "No Configuraiton Set",
            "description": null,
            "arguments": {
                "params": [],
                "version": "3.2.1",
                "connector": "cyops_utilities",
                "operation": "no_op",
                "operationTitle": "Utils: No Operation",
                "step_variables": []
            },
            "status": null,
            "top": "560",
            "left": "1040",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "aef2a68c-74e4-4c1a-9963-9b7b0b287a64"
        },
        {
            "@type": "WorkflowStep",
            "name": "Create Configuration Global Vars",
            "description": null,
            "arguments": {
                "params": {
                    "macro": "{{vars.sla_notification_global_var_name}}",
                    "value": "{{vars.sla_config|toJSON}}"
                },
                "version": "3.2.1",
                "connector": "cyops_utilities",
                "operation": "updatemacro",
                "operationTitle": "FSR: Create\/Update Global Variables",
                "step_variables": []
            },
            "status": null,
            "top": "560",
            "left": "700",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "c3bc72cb-ebec-49b9-81c0-5732d248a6e2"
        },
        {
            "@type": "WorkflowStep",
            "name": "Send Notification Email",
            "description": null,
            "arguments": {
                "name": "Exchange",
                "when": "{{vars.alerts|length > 0}}",
                "config": "9b1523e6-7f4a-4bd0-82fd-9ed0e2bae171",
                "params": {
                    "body": "<p>{{vars.body}}<\/p>",
                    "subject": "Incident SLA Breach status",
                    "iri_list": "",
                    "cc_recipients": "",
                    "to_recipients": "{{vars.email_recipient}}",
                    "bcc_recipients": "",
                    "inline_iri_list": ""
                },
                "version": "4.0.0",
                "connector": "exchange",
                "operation": "send_email",
                "operationTitle": "Send Email",
                "pickFromTenant": false,
                "step_variables": []
            },
            "status": null,
            "top": "1650",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671",
            "group": null,
            "uuid": "c544a173-765d-4327-a7aa-0847651cd452"
        },
        {
            "@type": "WorkflowStep",
            "name": "Create Announcement",
            "description": null,
            "arguments": {
                "when": "{{vars.alerts | length > 0 and vars.create_announcement is true}}",
                "resource": {
                    "title": "Alert SLA Status",
                    "__replace": "",
                    "description": "<p>{{vars.body}}<\/p>",
                    "notifyOnEmail": false,
                    "announcementType": "\/api\/3\/picklists\/cfbb2798-ec01-4652-b774-fb2c19e35eb5",
                    "announcementCriticality": "\/api\/3\/picklists\/e8e41070-f135-42f2-892b-7017cbba4024"
                },
                "operation": "Overwrite",
                "collection": "\/api\/3\/announcements",
                "__recommend": [],
                "fieldOperation": {
                    "recordTags": "Overwrite"
                },
                "step_variables": []
            },
            "status": null,
            "top": "1785",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/2597053c-e718-44b4-8394-4d40fe26d357",
            "group": null,
            "uuid": "d753b4f9-ca68-46ce-af98-b39ddb18fc0b"
        },
        {
            "@type": "WorkflowStep",
            "name": "Playbook Configured",
            "description": null,
            "arguments": {
                "conditions": [
                    {
                        "option": "yes",
                        "step_iri": "\/api\/3\/workflow_steps\/8601dadf-d374-4ef1-8178-350ec4c3511d",
                        "condition": "{{ vars.sla_config is not none and 'minutesToSLABreach' in vars.sla_config }}",
                        "step_name": "Get PLaybook Configuration"
                    },
                    {
                        "option": "no",
                        "default": true,
                        "step_iri": "\/api\/3\/workflow_steps\/71d999c5-00c4-49cb-a81b-40ba3d551eee",
                        "step_name": "Set SLA Notification Method"
                    }
                ]
            },
            "status": null,
            "top": "300",
            "left": "393",
            "stepType": "\/api\/3\/workflow_step_types\/12254cf5-5db7-4b1a-8cb1-3af081924b28",
            "group": null,
            "uuid": "dc644e8d-8bee-4834-a605-642aa6318ccd"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get Incidents Attributes",
            "description": null,
            "arguments": {
                "query": {
                    "sort": [],
                    "limit": 30,
                    "logic": "AND",
                    "filters": [
                        {
                            "logic": "AND",
                            "filters": [
                                {
                                    "type": "datetime",
                                    "logic": "AND",
                                    "_field": "createDate",
                                    "_value": {
                                        "differenceType": "days",
                                        "differenceValue": -1
                                    },
                                    "filters": [
                                        {
                                            "type": "datetime",
                                            "field": "createDate",
                                            "value": "{{getRelativeDate(0,0,-1,\"end\",\"end\",\"end\")}}",
                                            "operator": "gt"
                                        }
                                    ],
                                    "_operator": "gt"
                                }
                            ]
                        },
                        {
                            "logic": "OR",
                            "filters": [
                                {
                                    "type": "array",
                                    "field": "slaState",
                                    "value": [
                                        "\/api\/3\/picklists\/72979f64-e8b9-4888-a965-957e0ec24818",
                                        "\/api\/3\/picklists\/3654f428-d23d-4683-a44e-82cc54f4f32b"
                                    ],
                                    "module": "slaState",
                                    "display": "",
                                    "operator": "in",
                                    "template": "multiselectpicklist",
                                    "enableJinja": true,
                                    "OPERATOR_KEY": "$",
                                    "useInOperator": true,
                                    "previousOperator": "in",
                                    "previousTemplate": "multiselectpicklist"
                                },
                                {
                                    "type": "datetime",
                                    "field": "ackDate",
                                    "value": "true",
                                    "operator": "isnull"
                                }
                            ]
                        },
                        {
                            "logic": "AND",
                            "filters": [
                                {
                                    "type": "datetime",
                                    "field": "ackDueDate",
                                    "value": "false",
                                    "operator": "isnull"
                                },
                                {
                                    "type": "datetime",
                                    "field": "resDueBy",
                                    "value": "false",
                                    "operator": "isnull"
                                }
                            ]
                        }
                    ],
                    "__selectFields": [
                        "name",
                        "resDueBy",
                        "ackDueDate",
                        "id",
                        "incidentLead"
                    ]
                },
                "module": "incidents?$limit=99",
                "checkboxFields": true,
                "step_variables": {
                    "all_alerts": "{{vars.result}}"
                }
            },
            "status": null,
            "top": "840",
            "left": "393",
            "stepType": "\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928770",
            "group": null,
            "uuid": "effdd9a6-2cba-4521-8d4d-1f0140cfe580"
        },
        {
            "@type": "WorkflowStep",
            "name": "Generate Email Body",
            "description": null,
            "arguments": {
                "body": "<table style=\"border-collapse: collapse; width: 99.9951%; background-color: #1E3D67; border-color: #34495E; border-style: dotted;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"text-align: center;\">ID<\/td>\n<td style=\"text-align: center;\">Name<\/td>\n<td style=\"text-align: center;\">Type<\/td>\n<td style=\"text-align: center;\">Acknowledgment SLA<\/td>\n<td style=\"text-align: center;\">Ack Due By<\/td>\n<td style=\"text-align: center;\">Response SLA<\/td>\n<td style=\"text-align: center;\">Response Due By<\/td>\n<\/tr>    \n{%for entry in vars.alerts%}<tr style=\"text-align: left;background-color: #D1D8DC;\"><td>{{entry['id']}}<\/td><td>{{entry['name']}}<\/td><td>{{entry['@type']}}<\/td><td>{{entry['Acknowledgment SLA Status']}}<\/td><td>{{entry['Ack Due By']}}<\/td><td>{{entry['Response SLA Status']}}<\/td><td>{{entry['Response Due By']}}<\/td><\/tr>{%endfor%}\n<\/tbody>\n<\/table>"
            },
            "status": null,
            "top": "1515",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "f45befeb-54ec-46bc-92dd-d5fe5a1fafef"
        }
    ],
    "routes": [
        {
            "@type": "WorkflowRoute",
            "name": "Create Announcement -> Notify Teams Channel",
            "targetStep": "\/api\/3\/workflow_steps\/1b730e2d-1686-462e-8b2d-8da5ef5c35f3",
            "sourceStep": "\/api\/3\/workflow_steps\/d753b4f9-ca68-46ce-af98-b39ddb18fc0b",
            "label": null,
            "isExecuted": false,
            "uuid": "814a7146-602f-425e-bdb6-e666813be1f9"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get PLaybook Configuration -> Get Incidents Attributes",
            "targetStep": "\/api\/3\/workflow_steps\/effdd9a6-2cba-4521-8d4d-1f0140cfe580",
            "sourceStep": "\/api\/3\/workflow_steps\/8601dadf-d374-4ef1-8178-350ec4c3511d",
            "label": null,
            "isExecuted": false,
            "uuid": "0bd98ce4-e048-414b-86a2-38ecba7d357a"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Generate Email Body -> Send Email",
            "targetStep": "\/api\/3\/workflow_steps\/c544a173-765d-4327-a7aa-0847651cd452",
            "sourceStep": "\/api\/3\/workflow_steps\/f45befeb-54ec-46bc-92dd-d5fe5a1fafef",
            "label": null,
            "isExecuted": false,
            "uuid": "330e998f-45c2-41a7-b1bd-f1f108769d52"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Single Recipient -> Generate Email Body",
            "targetStep": "\/api\/3\/workflow_steps\/f45befeb-54ec-46bc-92dd-d5fe5a1fafef",
            "sourceStep": "\/api\/3\/workflow_steps\/1a565156-9e9d-45d6-b7a0-84fc00c3a6aa",
            "label": "yes",
            "isExecuted": false,
            "uuid": "4c7bb533-ca23-4c07-9d39-169a309ec485"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Single Recipient -> Copy of Send Email",
            "targetStep": "\/api\/3\/workflow_steps\/728015f5-9fb5-4e0c-ac56-11cfef61a934",
            "sourceStep": "\/api\/3\/workflow_steps\/1a565156-9e9d-45d6-b7a0-84fc00c3a6aa",
            "label": "no",
            "isExecuted": false,
            "uuid": "d7e3eef3-cd6b-4990-bf18-897c34db0476"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Send Notification Emails -> Create Announcement",
            "targetStep": "\/api\/3\/workflow_steps\/5ccecbd5-b6cc-4cba-b86e-1013361e49b2",
            "sourceStep": "\/api\/3\/workflow_steps\/728015f5-9fb5-4e0c-ac56-11cfef61a934",
            "label": null,
            "isExecuted": false,
            "uuid": "7fb64d35-436c-4561-8a84-5531fd86e62e"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Send Notification Email -> Create Announcement",
            "targetStep": "\/api\/3\/workflow_steps\/d753b4f9-ca68-46ce-af98-b39ddb18fc0b",
            "sourceStep": "\/api\/3\/workflow_steps\/c544a173-765d-4327-a7aa-0847651cd452",
            "label": null,
            "isExecuted": false,
            "uuid": "fa96c762-729a-4e75-87ef-659317f5e36a"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get Alert Attributes -> Compute Remaining Time",
            "targetStep": "\/api\/3\/workflow_steps\/64e34513-614e-4191-9cff-e36c004fa97d",
            "sourceStep": "\/api\/3\/workflow_steps\/effdd9a6-2cba-4521-8d4d-1f0140cfe580",
            "label": null,
            "isExecuted": false,
            "uuid": "9559ad2b-e3ab-4af6-a3f3-134cbb628ee7"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Compute Remaining Time -> Compute Eligible Alerts",
            "targetStep": "\/api\/3\/workflow_steps\/77929d5b-2eb2-4081-b372-9cc09f93ab91",
            "sourceStep": "\/api\/3\/workflow_steps\/64e34513-614e-4191-9cff-e36c004fa97d",
            "label": null,
            "isExecuted": false,
            "uuid": "365bf130-fa8e-4eaa-85ec-a9d9b068d92b"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Exclude Unbreeched SLAs -> Compute Notification Bodies",
            "targetStep": "\/api\/3\/workflow_steps\/0de7283b-1585-414a-b6ab-afaa5a1629cd",
            "sourceStep": "\/api\/3\/workflow_steps\/77929d5b-2eb2-4081-b372-9cc09f93ab91",
            "label": null,
            "isExecuted": false,
            "uuid": "255f5094-0496-4520-b161-836cbaf72791"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Compute Notification Bodies -> Single Recipient",
            "targetStep": "\/api\/3\/workflow_steps\/1a565156-9e9d-45d6-b7a0-84fc00c3a6aa",
            "sourceStep": "\/api\/3\/workflow_steps\/0de7283b-1585-414a-b6ab-afaa5a1629cd",
            "label": null,
            "isExecuted": false,
            "uuid": "6dc793c6-9c08-44ba-a504-5e4e84cba336"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Set SLA Notification Method -> Create Configuration Global Vars",
            "targetStep": "\/api\/3\/workflow_steps\/c3bc72cb-ebec-49b9-81c0-5732d248a6e2",
            "sourceStep": "\/api\/3\/workflow_steps\/71d999c5-00c4-49cb-a81b-40ba3d551eee",
            "label": null,
            "isExecuted": false,
            "uuid": "02b0ed6b-e8e0-4a3c-80c7-9c9701af052b"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Copy of Configuration -> Playbook Configured",
            "targetStep": "\/api\/3\/workflow_steps\/dc644e8d-8bee-4834-a605-642aa6318ccd",
            "sourceStep": "\/api\/3\/workflow_steps\/128f1e3f-932c-48b2-a9ef-bf58143291e0",
            "label": null,
            "isExecuted": false,
            "uuid": "003e9a8f-a133-4286-b72f-9ab2a60af567"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Playbook Configured -> Set SLA Notification Method",
            "targetStep": "\/api\/3\/workflow_steps\/71d999c5-00c4-49cb-a81b-40ba3d551eee",
            "sourceStep": "\/api\/3\/workflow_steps\/dc644e8d-8bee-4834-a605-642aa6318ccd",
            "label": null,
            "isExecuted": false,
            "uuid": "808de740-deba-46b4-866f-ba17f6c58058"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Playbook Configured -> Get PLaybook Configuration",
            "targetStep": "\/api\/3\/workflow_steps\/8601dadf-d374-4ef1-8178-350ec4c3511d",
            "sourceStep": "\/api\/3\/workflow_steps\/dc644e8d-8bee-4834-a605-642aa6318ccd",
            "label": null,
            "isExecuted": false,
            "uuid": "f7129ba3-cbef-46f1-ab8c-5f47564b431d"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Create Configuration Global Vars -> Get PLaybook Configuration",
            "targetStep": "\/api\/3\/workflow_steps\/8601dadf-d374-4ef1-8178-350ec4c3511d",
            "sourceStep": "\/api\/3\/workflow_steps\/c3bc72cb-ebec-49b9-81c0-5732d248a6e2",
            "label": null,
            "isExecuted": false,
            "uuid": "4482109e-367b-4fa2-b0b8-2a444d018341"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Set SLA Notification Method -> No Configuraiton Set",
            "targetStep": "\/api\/3\/workflow_steps\/aef2a68c-74e4-4c1a-9963-9b7b0b287a64",
            "sourceStep": "\/api\/3\/workflow_steps\/71d999c5-00c4-49cb-a81b-40ba3d551eee",
            "label": null,
            "isExecuted": false,
            "uuid": "34536804-9ab6-492d-97f7-48a533258d11"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Start -> Copy of Configuration",
            "targetStep": "\/api\/3\/workflow_steps\/128f1e3f-932c-48b2-a9ef-bf58143291e0",
            "sourceStep": "\/api\/3\/workflow_steps\/73fea0bb-b1c9-46e2-9ad0-d0147287b64f",
            "label": null,
            "isExecuted": false,
            "uuid": "defcb758-fc24-46d8-9ca8-ddaef07ba68e"
        }
    ],
    "groups": [],
    "priority": "\/api\/3\/picklists\/2b563c61-ae2c-41c0-a85a-c9709585e3f2",
    "uuid": "96c33793-4dbe-470a-bd41-d2466da522fb",
    "owners": [],
    "isPrivate": false,
    "deletedAt": null,
    "recordTags": [
        "Use-Case",
        "SLA-Notifier"
    ]
}